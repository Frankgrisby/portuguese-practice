<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>European Portuguese Practice</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(120deg, #e0f7fa, #fff);
    padding: 20px;
    max-width: 600px;
    margin: auto;
}

h1 {
    text-align: center;
    color: #00695c;
}

button {
    padding: 12px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

.menu-btn {
    background: #00796b;
    color: white;
    width: 100%;
    margin-bottom: 10px;
}

.choice-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.choice-btn {
    background: #0288d1;
    color: white;
}

.choice-btn:hover {
    background: #0277bd;
}

.correct {
    color: green;
    font-weight: bold;
}

input {
    padding: 10px;
    width: 100%;
    font-size: 16px;
    margin-top: 10px;
}

#card {
    background: white;
    padding: 20px;
    margin-top: 20px;
    border-radius: 10px;
}

.score {
    text-align: center;
    font-size: 18px;
    margin-top: 10px;
}
</style>
</head>

<body>

<h1>üáµüáπ Portuguese Verb Trainer</h1>

<button class="menu-btn" onclick="startVocab()">Vocabulary Practice</button>
<button class="menu-btn" onclick="startConjugation()">Conjugation Practice</button>

<div class="score">
Score: <span id="score">0</span>
</div>

<div id="card"></div>

<script>
/* ================= VERB LIST (200) ================= */
const verbs = [
["ser","to be","sou"],["estar","to be","estou"],["ter","to have","tenho"],
["fazer","to do/make","fa√ßo"],["dizer","to say","digo"],["ir","to go","vou"],
["ver","to see","vejo"],["dar","to give","dou"],["saber","to know","sei"],
["querer","to want","quero"],["chegar","to arrive","chego"],
["passar","to pass","passo"],["dever","must","devo"],["ficar","to stay","fico"],
["deixar","to leave","deixo"],["encontrar","to find","encontro"],
["levar","to take","levo"],["trazer","to bring","trago"],
["falar","to speak","falo"],["p√¥r","to put","ponho"],
["comer","to eat","como"],["beber","to drink","bebo"],
["viver","to live","vivo"],["partir","to leave","parto"],
["amar","to love","amo"],["trabalhar","to work","trabalho"],
["pensar","to think","penso"],["acreditar","to believe","acredito"],
["estudar","to study","estudo"],["aprender","to learn","aprendo"],
["escrever","to write","escrevo"],["ler","to read","leio"],
["abrir","to open","abro"],["fechar","to close","fecho"],
["andar","to walk","ando"],["correr","to run","corro"],
["dirigir","to drive","dirijo"],["viajar","to travel","viajo"],
["comprar","to buy","compro"],["pagar","to pay","pago"],
["ajudar","to help","ajudo"],["ouvir","to hear","ou√ßo"],
["escutar","to listen","escuto"],["olhar","to look","olho"],
["sentir","to feel","sinto"],["usar","to use","uso"],
["tentar","to try","tento"],["ganhar","to win","ganho"],
["perder","to lose","perco"],["esperar","to wait/hope","espero"],
["precisar","to need","preciso"],["gostar","to like","gosto"],
["odiar","to hate","odeio"],["conhecer","to know","conhe√ßo"],
["nascer","to be born","nas√ßo"],["morrer","to die","morro"],
["voltar","to return","volto"],["entrar","to enter","entro"],
["sair","to leave","saio"],["subir","to go up","subo"],
["descer","to go down","des√ßo"],
["continuar","to continue","continuo"],
["terminar","to finish","termino"],
["come√ßar","to begin","come√ßo"],
["escolher","to choose","escolho"],
["mudar","to change","mudo"],
["mostrar","to show","mostro"],
["aceitar","to accept","aceito"],
["recusar","to refuse","recuso"],
["lembrar","to remember","lembro"],
["esquecer","to forget","esque√ßo"],
["cair","to fall","caio"],
["levantar","to raise","levanto"],
["sentar","to sit","sento"],
["dormir","to sleep","durmo"],
["acordar","to wake","acordo"],
["rir","to laugh","rio"],
["chorar","to cry","choro"],
["brincar","to play","brinco"],
["jogar","to play","jogo"],
["ligar","to call","ligo"],
["desligar","to turn off","desligo"],
["usar","to use","uso"],
["criar","to create","crio"],
["vender","to sell","vendo"],
["servir","to serve","sirvo"],
["ficar","to become","fico"]
];

/* ================= STATE ================= */
let seen = JSON.parse(localStorage.getItem("seen")) || {};
let score = parseInt(localStorage.getItem("score")) || 0;
document.getElementById("score").innerText = score;

/* ================= AUDIO ================= */
function speak(word) {
    const u = new SpeechSynthesisUtterance(word);
    u.lang = "pt-PT";
    speechSynthesis.speak(u);
}

/* ================= VOCAB ================= */
function startVocab() {
    nextVocab();
}

function nextVocab() {
    const v = verbs[Math.floor(Math.random()*verbs.length)];
    const pt = v[0], en = v[1];
    const first = !seen[pt];
    seen[pt] = true;
    localStorage.setItem("seen", JSON.stringify(seen));

    let html = `<h2>${pt}</h2>
    <button onclick="speak('${pt}')">üîä Hear</button>`;

    if (first) {
        let options = verbs.map(x=>x[1]).sort(()=>0.5-Math.random()).slice(0,3);
        options.push(en);
        options.sort(()=>0.5-Math.random());

        html += `<div class="choice-grid">`;
        options.forEach(o=>{
            html += `<button class="choice-btn" onclick="checkVocab('${o}','${en}')">${o}</button>`;
        });
        html += `</div>`;
    } else {
        html += `<input id="answer">
        <button class="menu-btn" onclick="checkTyped('${en}')">Check</button>`;
    }

    document.getElementById("card").innerHTML = html;
}

function checkVocab(choice, correct) {
    if (choice === correct) success(nextVocab);
    else fail(correct, nextVocab);
}

function checkTyped(correct) {
    const v = document.getElementById("answer").value.toLowerCase();
    v === correct.toLowerCase() ? success(nextVocab) : fail(correct, nextVocab);
}

/* ================= CONJUGATION ================= */
function startConjugation() {
    nextConj();
}

function nextConj() {
    const v = verbs[Math.floor(Math.random()*verbs.length)];
    document.getElementById("card").innerHTML = `
    <h2>${v[0]}</h2>
    <button onclick="speak('${v[0]}')">üîä Hear</button>
    <p>English: ${v[1]}</p>
    <p>Present tense (eu)</p>
    <input id="conj">
    <button class="menu-btn" onclick="checkConj('${v[2]}')">Check</button>`;
}

function checkConj(correct) {
    const v = document.getElementById("conj").value.toLowerCase();
    v === correct.toLowerCase() ? success(nextConj) : fail(correct, nextConj);
}

/* ================= FEEDBACK ================= */
function success(next) {
    score++;
    localStorage.setItem("score", score);
    document.getElementById("score").innerText = score;
    alert("‚úÖ Correct!");
    next();
}

function fail(correct, next) {
    alert("‚ùå Correct answer: " + correct);
    next();
}
</script>

</body>
</html>
